<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Descriptiva</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Descriptiva_files/libs/clipboard/clipboard.min.js"></script>
<script src="Descriptiva_files/libs/quarto-html/quarto.js"></script>
<script src="Descriptiva_files/libs/quarto-html/popper.min.js"></script>
<script src="Descriptiva_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Descriptiva_files/libs/quarto-html/anchor.min.js"></script>
<link href="Descriptiva_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Descriptiva_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Descriptiva_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Descriptiva_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Descriptiva_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="Descriptiva_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="Descriptiva_files/libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="Descriptiva_files/libs/typedarray-0.1/typedarray.min.js"></script>
<script src="Descriptiva_files/libs/jquery-3.5.1/jquery.min.js"></script>
<link href="Descriptiva_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="Descriptiva_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="Descriptiva_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="Descriptiva_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Descriptiva</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="estadística-descriptiva" class="level1">
<h1>Estadística Descriptiva</h1>
<p>Vamos a iniciar con la estadística descriptiva para V.A’s numéricas.</p>
<section id="gráficos-para-variables-numéricas-continuas" class="level2">
<h2 class="anchored" data-anchor-id="gráficos-para-variables-numéricas-continuas">Gráficos para Variables numéricas continuas</h2>
<p>Vamos a usar a función hist para realizar el histograma.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pesos<span class="ot">=</span><span class="fu">c</span>(<span class="fl">303.37</span>, <span class="fl">301.02</span>, <span class="fl">292.24</span>, <span class="fl">300.30</span>, <span class="fl">299.94</span>, <span class="fl">291.24</span>, <span class="fl">297.93</span>, <span class="fl">306.81</span>, <span class="fl">303.49</span>, <span class="fl">302.12</span>,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fl">292.82</span>, <span class="fl">297.89</span>, <span class="fl">296.84</span>, <span class="fl">301.09</span>, <span class="fl">303.95</span>, <span class="fl">289.44</span>, <span class="fl">296.99</span>, <span class="fl">310.30</span>, <span class="fl">296.80</span>, <span class="fl">302.50</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fl">305.99</span>, <span class="fl">301.16</span>, <span class="fl">305.53</span>, <span class="fl">305.02</span>, <span class="fl">303.21</span>, <span class="fl">310.32</span>, <span class="fl">294.25</span>, <span class="fl">299.62</span>, <span class="fl">306.27</span>, <span class="fl">293.37</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(pesos,<span class="at">main =</span> <span class="st">"Histograma Pesos Ceibas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/pesos-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">###</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(pesos,<span class="at">freq=</span><span class="cn">FALSE</span>,<span class="at">prob=</span><span class="cn">TRUE</span>,<span class="at">col =</span> <span class="st">"lightblue"</span>,<span class="at">main=</span><span class="st">'Histograma de pesos de Ceibas'</span>,<span class="at">xlab=</span><span class="st">'Toneladas'</span>,<span class="at">ylab=</span><span class="st">'Densidad'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">density</span>(pesos),<span class="at">col =</span> <span class="st">"chocolate3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/pesos-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Ejercicio:</strong> Use la base en BaseEjemplo.xlsx, y haga el histograma de frecuencias para las V.A’s numéricas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>num_nidos<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">9</span>,  <span class="dv">6</span>,  <span class="dv">7</span>,  <span class="dv">7</span>,  <span class="dv">6</span>,  <span class="dv">9</span>,  <span class="dv">7</span>,  <span class="dv">3</span>,  <span class="dv">4</span>,  <span class="dv">6</span>,  <span class="dv">6</span>,  <span class="dv">6</span>,  <span class="dv">8</span>,  <span class="dv">2</span>,  <span class="dv">7</span>,  <span class="dv">3</span>,  <span class="dv">5</span>,  <span class="dv">5</span>,  <span class="dv">4</span>,  <span class="dv">7</span>,  <span class="dv">4</span>,  <span class="dv">9</span>,  <span class="dv">7</span>,  <span class="dv">8</span>,  <span class="dv">8</span>,  <span class="dv">2</span>, <span class="dv">12</span>, <span class="dv">10</span>,  <span class="dv">4</span>,  <span class="dv">7</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>discreta<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(num_nidos)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(discreta,<span class="fu">aes</span>(num_nidos))<span class="sc">+</span><span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/Hist%20Discreta-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: MASS</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: Matrix</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: lme4</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
arm (Version 1.13-1, built: 2022-8-25)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Working directory is /Users/sergiocalderon/Documents/GitHub/EstadisticaParaGeografos/EstadisticaParaGeografosUN/Estadistica_Descriptiva</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>arm<span class="sc">::</span><span class="fu">discrete.histogram</span>(discreta<span class="sc">$</span>num_nidos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/Hist%20Discreta-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Ejercicio:</strong> Use la base en BaseEjemplo.xlsx, y haga el histograma de frecuencias para las V.A’s numéricas discretas.</p>
</section>
<section id="variables-categóricas" class="level2">
<h2 class="anchored" data-anchor-id="variables-categóricas">Variables Categóricas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dolencias<span class="ot">=</span><span class="fu">c</span>(<span class="st">"O"</span>,<span class="st">"O"</span>,<span class="st">"N"</span>,<span class="st">"J"</span>,<span class="st">"C"</span>,<span class="st">"F"</span>,<span class="st">"B"</span>,<span class="st">"B"</span>,<span class="st">"F"</span>,<span class="st">"O"</span>,<span class="st">"J"</span>,<span class="st">"O"</span>,<span class="st">"O"</span>,<span class="st">"O"</span>,<span class="st">"F"</span>,<span class="st">"F"</span>,<span class="st">"O"</span>,<span class="st">"O"</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="st">"N"</span>,<span class="st">"O"</span>,<span class="st">"N"</span>,<span class="st">"J"</span>,<span class="st">"F"</span>,<span class="st">"J"</span>,<span class="st">"B"</span>,<span class="st">"O"</span>,<span class="st">"C"</span>,<span class="st">"J"</span>,<span class="st">"O"</span>,<span class="st">"J"</span>,<span class="st">"J"</span>,<span class="st">"F"</span>,<span class="st">"N"</span>,<span class="st">"O"</span>,<span class="st">"B"</span>,<span class="st">"M"</span>,<span class="st">"O"</span>,<span class="st">"J"</span>,<span class="st">"M"</span>,<span class="st">"O"</span>,<span class="st">"B"</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="st">"O"</span>,<span class="st">"F"</span>,  <span class="st">"J"</span>,  <span class="st">"O"</span>,  <span class="st">"O"</span>,  <span class="st">"B"</span>,  <span class="st">"N"</span>,  <span class="st">"C"</span>,  <span class="st">"O"</span>,  <span class="st">"O"</span>,  <span class="st">"O"</span>,<span class="st">"M"</span>,  <span class="st">"B"</span>,<span class="st">"F"</span>,<span class="st">"J"</span>,  <span class="st">"O"</span>,  <span class="st">"F"</span>,  <span class="st">"N"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>Tabladolencias<span class="ot">=</span><span class="fu">table</span>(dolencias)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(Tabladolencias)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/categoricas-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>Tabladolencias</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>dolencias
 B  C  F  J  M  N  O 
 7  3  9 10  3  6 21 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="do">###Proporciones</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>Tabladolencias_prop<span class="ot">=</span>Tabladolencias<span class="sc">/</span><span class="fu">sum</span>(Tabladolencias)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>Tabladolencias_prop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>dolencias
         B          C          F          J          M          N          O 
0.11864407 0.05084746 0.15254237 0.16949153 0.05084746 0.10169492 0.35593220 </code></pre>
</div>
</div>
<p><strong>Tarea:</strong> <em>Use la información en la base BaseEjemplo.xlsx y realice los gráficos de barras para las V.A’s categóricas.</em></p>
</section>
</section>
<section id="medidas-de-resumen" class="level1">
<h1>Medidas de Resumen</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>media_pesos<span class="ot">&lt;-</span><span class="fu">mean</span>(pesos) <span class="co">#Media</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>media_pesos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 300.394</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>mediana_pesos<span class="ot">&lt;-</span><span class="fu">quantile</span>(pesos,<span class="at">probs =</span> <span class="fl">0.5</span>) <span class="co">#Mediana</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>mediana_pesos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    50% 
301.055 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>getmode <span class="ot">&lt;-</span> <span class="cf">function</span>(v) {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  uniqv <span class="ot">&lt;-</span> <span class="fu">unique</span>(v)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  uniqv[<span class="fu">which.max</span>(<span class="fu">tabulate</span>(<span class="fu">match</span>(v, uniqv)))]</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>moda_pesos<span class="ot">&lt;-</span><span class="fu">getmode</span>(pesos) <span class="do">###Moda</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>moda_pesos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 303.37</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(pesos,<span class="at">col =</span> <span class="st">"white"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v=</span><span class="fu">c</span>(media_pesos,mediana_pesos,moda_pesos),<span class="at">col=</span><span class="fu">c</span>(<span class="st">"red"</span>,<span class="st">"blue"</span>,<span class="st">"green"</span>))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"Media"</span>, <span class="st">"Mediana"</span>, <span class="st">"Moda"</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>), <span class="at">lty =</span> <span class="dv">1</span>, <span class="at">lwd =</span> <span class="dv">2</span>,<span class="at">cex =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/grafica%20con%20medidas-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>Gastos_pond<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"Ponderada.xlsx"</span>,<span class="at">sheet =</span> <span class="st">"Ejemplo"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>med_pond<span class="ot">=</span>(<span class="fu">sum</span>(Gastos_pond<span class="sc">$</span>Gasto<span class="sc">*</span>Gastos_pond<span class="sc">$</span>Exposicion))<span class="sc">/</span>(<span class="fu">sum</span>(Gastos_pond<span class="sc">$</span>Exposicion))</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>med_pond <span class="do">##Media ponderada</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1535206</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(Gastos_pond<span class="sc">$</span>Gasto)  <span class="do">##Media aritmética</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1424733</code></pre>
</div>
</div>
<p><strong>Tarea:</strong> Realizar la misma experiencia para los datos de la hoja ejercicio del archivo Ponderada.xlsx.</p>
<section id="cuantiles" class="level2">
<h2 class="anchored" data-anchor-id="cuantiles">Cuantiles</h2>
<p>Recordemos que los cuantiles de la distribución se definen como:</p>
<p>Sea <span class="math inline">\(\alpha\)</span> un número entre 0 y 1. El percentil <span class="math inline">\((100 \alpha)\)</span> o cuantil <span class="math inline">\((\alpha)\)</span> de la distribución de una V.A. continua <span class="math inline">\(X\)</span>, denotado por <span class="math inline">\(\eta(\alpha)\)</span> o <span class="math inline">\(x_{\alpha}\)</span>, está definido como un valor que toma la V.A (valor posible de la V.A) tal que satisface</p>
<p><span class="math display">\[\alpha=F(\eta(\alpha))=F(x_{\alpha})=\int_{-\infty}^{x_{\alpha}}f(y)\cdot dy.\]</span></p>
<p>Los cuantiles representan son valores que toma la V.A, tal que satisface que ese valor deja un cierta probabilidad acumulada de <span class="math inline">\(\alpha.\)</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(pesos,<span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.10</span>)) <span class="do">###Percentil 10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    10% 
292.762 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(pesos,<span class="at">probs =</span> <span class="fu">c</span>(<span class="fl">0.95</span>))<span class="do">###Percentil 95</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     95% 
308.7295 </code></pre>
</div>
</div>
<p><strong>Cómo se interpretan estos valores?</strong></p>
<p><strong>Tarea:</strong> <em>Realizar el cálculo de los cuantiles de las otras variables asociadas a las ceibas.</em></p>
</section>
</section>
<section id="box-plot" class="level1">
<h1>Box-Plot</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'plotly'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:MASS':

    select</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    last_plot</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">y =</span> pesos, <span class="at">type =</span> <span class="st">"box"</span>)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>fig  <span class="do">##Vertical</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-5c7b6dd6b8b86d5c400c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-5c7b6dd6b8b86d5c400c">{"x":{"visdat":{"12b9b108be2ec":["function () ","plotlyVisDat"]},"cur_data":"12b9b108be2ec","attrs":{"12b9b108be2ec":{"y":[303.37,301.01999999999998,292.24000000000001,300.30000000000001,299.94,291.24000000000001,297.93000000000001,306.81,303.49000000000001,302.12,292.81999999999999,297.88999999999999,296.83999999999997,301.08999999999997,303.94999999999999,289.44,296.99000000000001,310.30000000000001,296.80000000000001,302.5,305.99000000000001,301.16000000000003,305.52999999999997,305.01999999999998,303.20999999999998,310.31999999999999,294.25,299.62,306.26999999999998,293.37],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":[]},"xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","y":[303.37,301.01999999999998,292.24000000000001,300.30000000000001,299.94,291.24000000000001,297.93000000000001,306.81,303.49000000000001,302.12,292.81999999999999,297.88999999999999,296.83999999999997,301.08999999999997,303.94999999999999,289.44,296.99000000000001,310.30000000000001,296.80000000000001,302.5,305.99000000000001,301.16000000000003,305.52999999999997,305.01999999999998,303.20999999999998,310.31999999999999,294.25,299.62,306.26999999999998,293.37],"type":"box","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>fig_1 <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">x =</span> pesos, <span class="at">type =</span> <span class="st">"box"</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fig_1 ##Horizontal</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>fig_1 <span class="ot">&lt;-</span> fig_1 <span class="sc">%&gt;%</span> <span class="fu">add_boxplot</span>(<span class="at">x =</span> pesos, <span class="at">jitter =</span> <span class="fl">0.3</span>, <span class="at">pointpos =</span> <span class="sc">-</span><span class="fl">1.8</span>, <span class="at">boxpoints =</span> <span class="st">'all'</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'rgb(7,40,89)'</span>),</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'rgb(7,40,89)'</span>),</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">name =</span> <span class="st">"All Points"</span>)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>fig_1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c7a540d3562c6d593d7c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c7a540d3562c6d593d7c">{"x":{"visdat":{"12b9b4fdefc70":["function () ","plotlyVisDat"]},"cur_data":"12b9b4fdefc70","attrs":{"12b9b4fdefc70":{"x":[303.37,301.01999999999998,292.24000000000001,300.30000000000001,299.94,291.24000000000001,297.93000000000001,306.81,303.49000000000001,302.12,292.81999999999999,297.88999999999999,296.83999999999997,301.08999999999997,303.94999999999999,289.44,296.99000000000001,310.30000000000001,296.80000000000001,302.5,305.99000000000001,301.16000000000003,305.52999999999997,305.01999999999998,303.20999999999998,310.31999999999999,294.25,299.62,306.26999999999998,293.37],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"},"12b9b4fdefc70.1":{"x":[303.37,301.01999999999998,292.24000000000001,300.30000000000001,299.94,291.24000000000001,297.93000000000001,306.81,303.49000000000001,302.12,292.81999999999999,297.88999999999999,296.83999999999997,301.08999999999997,303.94999999999999,289.44,296.99000000000001,310.30000000000001,296.80000000000001,302.5,305.99000000000001,301.16000000000003,305.52999999999997,305.01999999999998,303.20999999999998,310.31999999999999,294.25,299.62,306.26999999999998,293.37],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box","jitter":0.29999999999999999,"pointpos":-1.8,"boxpoints":"all","marker":{"color":"rgb(7,40,89)"},"line":{"color":"rgb(7,40,89)"},"name":"All Points","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":[]},"yaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":[303.37,301.01999999999998,292.24000000000001,300.30000000000001,299.94,291.24000000000001,297.93000000000001,306.81,303.49000000000001,302.12,292.81999999999999,297.88999999999999,296.83999999999997,301.08999999999997,303.94999999999999,289.44,296.99000000000001,310.30000000000001,296.80000000000001,302.5,305.99000000000001,301.16000000000003,305.52999999999997,305.01999999999998,303.20999999999998,310.31999999999999,294.25,299.62,306.26999999999998,293.37],"type":"box","orientation":"h","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,14,0.5)","x":[303.37,301.01999999999998,292.24000000000001,300.30000000000001,299.94,291.24000000000001,297.93000000000001,306.81,303.49000000000001,302.12,292.81999999999999,297.88999999999999,296.83999999999997,301.08999999999997,303.94999999999999,289.44,296.99000000000001,310.30000000000001,296.80000000000001,302.5,305.99000000000001,301.16000000000003,305.52999999999997,305.01999999999998,303.20999999999998,310.31999999999999,294.25,299.62,306.26999999999998,293.37],"type":"box","jitter":0.29999999999999999,"pointpos":-1.8,"boxpoints":"all","marker":{"color":"rgb(7,40,89)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgb(7,40,89)"},"name":"All Points","orientation":"h","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(pesos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/Boxplot-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(pesos,<span class="at">horizontal =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/Boxplot-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>BaseEjemplo <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"BaseEjemplo.xlsx"</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>fig_gasto <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">y =</span> BaseEjemplo<span class="sc">$</span>gastosemanal, <span class="at">type =</span> <span class="st">"box"</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>fig_gasto <span class="ot">&lt;-</span> fig_gasto <span class="sc">%&gt;%</span> <span class="fu">add_boxplot</span>(<span class="at">y =</span> BaseEjemplo<span class="sc">$</span>gastosemanal, <span class="at">jitter =</span> <span class="fl">0.3</span>, <span class="at">pointpos =</span> <span class="sc">-</span><span class="fl">1.8</span>, <span class="at">boxpoints =</span> <span class="st">'all'</span>,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'rgb(7,40,89)'</span>),</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">'rgb(7,40,89)'</span>),</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">name =</span> <span class="st">"All Points"</span>)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>fig_gasto</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-d40ac09c46e7d3e4b578" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d40ac09c46e7d3e4b578">{"x":{"visdat":{"12b9b360914ec":["function () ","plotlyVisDat"]},"cur_data":"12b9b360914ec","attrs":{"12b9b360914ec":{"y":[120000,50000,50000,55000,50000,125000,60000,520000,90000,60000,20000,45000,100000,60000,80000,90000,60000,40000,90000,60000,40000,50000,20000,70000,20000,12000,12000,16000,50000,20000,60000,50000,100000],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"},"12b9b360914ec.1":{"y":[120000,50000,50000,55000,50000,125000,60000,520000,90000,60000,20000,45000,100000,60000,80000,90000,60000,40000,90000,60000,40000,50000,20000,70000,20000,12000,12000,16000,50000,20000,60000,50000,100000],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box","jitter":0.29999999999999999,"pointpos":-1.8,"boxpoints":"all","marker":{"color":"rgb(7,40,89)"},"line":{"color":"rgb(7,40,89)"},"name":"All Points","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":[]},"xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","y":[120000,50000,50000,55000,50000,125000,60000,520000,90000,60000,20000,45000,100000,60000,80000,90000,60000,40000,90000,60000,40000,50000,20000,70000,20000,12000,12000,16000,50000,20000,60000,50000,100000],"type":"box","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,14,0.5)","y":[120000,50000,50000,55000,50000,125000,60000,520000,90000,60000,20000,45000,100000,60000,80000,90000,60000,40000,90000,60000,40000,50000,20000,70000,20000,12000,12000,16000,50000,20000,60000,50000,100000],"type":"box","jitter":0.29999999999999999,"pointpos":-1.8,"boxpoints":"all","marker":{"color":"rgb(7,40,89)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgb(7,40,89)"},"name":"All Points","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Ejercicio:</strong> <em>Realizar los gráficos de cajas para las otras variable medidas a las ceibas.</em></p>
</section>
<section id="medidas-de-dispersión-o-variabilidad-asimetría-y-sesgo" class="level1">
<h1>Medidas de dispersión o variabilidad, asimetría y sesgo</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjstats)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(moments)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>sjstats<span class="sc">::</span><span class="fu">cv</span>(pesos) <span class="do">##Coeficiente de variación es útil, cuando la variable es la misma, pero es hecha en unidades diferentes.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.01817416</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(pesos) <span class="do">###Desviación estándar</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.459409</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(pesos)<span class="sc">^</span><span class="dv">2</span> <span class="do">###Varianza</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29.80514</code></pre>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(pesos)<span class="sc">-</span><span class="fu">min</span>(pesos) <span class="do">##Rango</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20.88</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(pesos) <span class="do">###Asimetría</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.1795275</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kurtosis</span>(pesos)<span class="do">###Coeficiente de apuntamiento o curtosis, permite ver si tiene colas mas pesadas que la de la distribución normal(el cual es 3 de forma teórica)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.341339</code></pre>
</div>
</div>
<p><strong>Ejemplo:</strong> Note que en algunas base datos existen variables categóricas que nos pueden definir grupos y pueden permitir hacer comparaciones entre esos grupos. Veamos algunos ejemplos:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>Base_EncHog2022<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"EncHog2022.xlsx"</span>,<span class="at">col_types =</span> <span class="fu">c</span>(<span class="st">"text"</span>, <span class="st">"text"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>, <span class="st">"text"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>, <span class="st">"numeric"</span>))</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Base_EncHog2022)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [13,265 × 8] (S3: tbl_df/tbl/data.frame)
 $ Actividad_principal_Empresa: chr [1:13265] "SERVICIO DE REPARTO DE VOLANTES PUBLICITARIO A PARTICUARES" "DESODORANTE COLONIAS" "SERVICIO DE DOMICILIOS A PARTICULARES" "SERVICIO DE TRANSPORTE DE PASAJEROS" ...
 $ Contrato_lab               : chr [1:13265] "1" "2" "2" "2" ...
 $ Mese_Vincula               : num [1:13265] 36 72 12 180 144 84 48 240 12 3 ...
 $ Gan_Neta                   : num [1:13265] 500000 50000 60000 600000 500000 3000000 600000 300000 840000 500000 ...
 $ Acepta_Presta              : chr [1:13265] "1" "1" "2" "2" ...
 $ Mese_Trab_ult_12           : num [1:13265] 12 12 12 12 12 12 12 12 12 6 ...
 $ Horas_Trab_Sem             : num [1:13265] 40 14 25 72 30 48 48 40 30 48 ...
 $ INGLABO                    : num [1:13265] 600000 50000 60000 600000 500000 3000000 600000 300000 840000 500000 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Calculo de la media para el grupo de los que si tienen contrato</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>Base_EncHog2022<span class="sc">%&gt;%</span><span class="fu">filter</span>(Contrato_lab<span class="sc">==</span><span class="st">"1"</span>)<span class="sc">%&gt;%</span><span class="fu">select</span>(Gan_Neta)<span class="sc">%&gt;%</span><span class="fu">summarise</span>(<span class="at">media_Gan_Neta =</span> <span class="fu">mean</span>(Gan_Neta, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  media_Gan_Neta
           &lt;dbl&gt;
1       1449326.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>filtrado_si_contrato_Gan_Neta<span class="ot">&lt;-</span>Base_EncHog2022<span class="sc">%&gt;%</span><span class="fu">filter</span>(Contrato_lab<span class="sc">==</span><span class="st">"1"</span>)<span class="sc">%&gt;%</span><span class="fu">select</span>(Gan_Neta)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="do">##Histograma Creado directamente</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>Base_EncHog2022<span class="sc">%&gt;%</span><span class="fu">filter</span>(Contrato_lab<span class="sc">==</span><span class="st">"1"</span>)<span class="sc">%&gt;%</span><span class="fu">select</span>(Gan_Neta)<span class="sc">%&gt;%</span><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Gan_Neta)) <span class="sc">+</span> </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">color=</span><span class="st">"black"</span>, <span class="at">fill=</span><span class="st">"white"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/Comparacion-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>histogram_plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">data =</span> filtrado_si_contrato_Gan_Neta, <span class="at">x =</span> <span class="sc">~</span>Gan_Neta, <span class="at">type =</span> <span class="st">"histogram"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Histograma de Gan_Neta"</span>,</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Gan_Neta"</span>),</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Frecuencia"</span>))</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar el histograma</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>histogram_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-edf060f33c3c8bae5a97" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-edf060f33c3c8bae5a97">{"x":{"visdat":{"12b9b549a5b1":["function () ","plotlyVisDat"]},"cur_data":"12b9b549a5b1","attrs":{"12b9b549a5b1":{"x":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"histogram"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Histograma de Gan_Neta","xaxis":{"domain":[0,1],"automargin":true,"title":"Gan_Neta"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Frecuencia"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[500000,3000000,400000,400000,1200000,420000,1300000,500000,400000,400000,80000,960000,560000,740000,1500000,1200000,500000,4000000,0,3500000,1800000,900000,2500000,7000000,4300000,1300000,800000,1000000,600000,1400000,600000,1200000,800000,250000,800000,900000,600000,1000000,1000000,900000,200000,1000000,800000,600000,500000,800000,700000,3500000,250000,980000,908000,950000,400000,500000,2500000,2800000,1000000,1000000,1000000,1000000,1000000,4500000,1900000,1300000,1200000,800000,6000000,950000,750000,700000,1240000,200000,2000000,1500000,600000,1000000,500000,840000,300000,700000,1700000,580000,900000,7000000,300000,500000,700000,300000,1000000,566000,250000,750000,5000000,2400000,2800000,6200000,50000,3500000,600000,1500000,1200000,1000000,2800000,2300000,1400000,1400000,0,2000000,450000,450000,1000000,11000000,500000,400000,1200000,2300000,1000000,1800000,500000,400000,840000,0,0,0,0,1875000,4000000,2500000,2800000,500000,500000,1000000,3900000,0,900000,200000,3500000,2000000,1500000,600000,2600000,1900000,3600000,800000,2500000,600000,650000,480000,1600000,200000,360000,0,500000,800000,500000,200000,900000,4500000,4500000,2500000,800000,3000000,300000,300000,420000,200000,500000,900000,500000,800000,600000,600000,4000000,3500000,500000,1000000,900000,720000,800000,800000,2000000,900000,3000000,14000000,16000000,1500000,3000000,600000,900000,1450000,1000000,700000,900000,7000000,3000000,900000,2800000,1400000,300000,2000000,1700000,1800000,908000,1800000,600000,1400000,1800000,1250000,1000000,2000000,8000000,400000,500000,400000,400000,1000000,250000,700000,400000,1000000,50000,30000,2079000,300000,3800000,500000,1000000,300000,400000,350000,5400000,300000,1200000,600000,1500000,300000,1000000,700000,1000000,750000,1000000,1300000,700000,1200000,3600000,2000000,2800000,100000,1700000,1000000,5600000,920000,1500000,5000000,1200000,1000000,1100000,908526,450000,1500000,2100000,1300000,2000000,1000000,0,1800000,1500000,1500000,3400000,1200000,400000,0,3800000,200000,1000000,1000000,300000,400000,900000,3400000,1800000,5000000,1200000,400000,1300000,800000,1000000,200000,600000,1500000,1500000,1000000,800000,700000,800000,450000,1200000,3000000,1000000,900000,1200000,800000,800000,700000,1300000,900000,1300000,1000000,500000,2800000,1200000,1500000,3000000,2500000,2800000,0,1000000,1300000,750000,900000,1000000,4000000,600000,800000,800000,420000,700000,3000000,280000,260000,840000,900000,2500000,480000,800000,800000,200000,1000000,1000000,1600000,1200000,900000,350000,1000000,800000,1200000,750000,908526,3000000,300000,908526,0,900000,908600,1300000,1500000,480000,400000,1000000,900000,1200000,908000,1400000,900000,400000,700000,2000000,1500000,2200000,950000,400000,320000,150000,2500000,180000,600000,900000,3500000,500000,2500000,1300000,2300000,3500000,3270000,3270000,0,500000,500000,800000,300000,1200000,1450000,400000,0,500000,2500000,1500000,2200000,1250000,600000,1280000,900000,600000,1000000,1500000,1200000,964000,2000000,1000000,100000,500000,300000,4000000,1000000,800000,940000,600000,2900000,4000000,6000000,950000,1800000,2300000,1300000,900000,100000,400000,0,2000000,130000,900000,1000000,3000000,850000,900000,500000,800000,1700000,800000,500000,400000,1200000,400000,300000,400000,500000,600000,300000,500000,300000,800000,1200000,1000000,1800000,2000000,1100000,1700000,1000000,1000000,4700000,2000000,480000,3000000,4000000,3200000,3000000,908526,990000,1900000,2100000,3000000,3300000,0,4500000,600000,0,350000,450000,400000,3000000,500000,980000,2900000,0,15000000,1600000,350000,900000,384000,1200000,200000,500000,480000,500000,650000,800000,1300000,800000,820000,820000,720000,1250000,1100000,700000,250000,2500000,1200000,400000,5000000,1200000,4000000,400000,2400000,240000,1200000,0,3700000,4500000,1000000,1000000,2400000,900000,1300000,400000,500000,400000,150000,500000,800000,300000,500000,800000,1000000,300000,800000,2500000,2000000,2000000,1000000,800000,600000,400000,600000,500000,2000000,2500000,3500000,1040000,908000,3000000,3500000,700000,800000,0,350000,0,50000,80000,54000,200000,300000,300000,800000,2500000,400000,400000,900000,1200000,3000000,1600000,2000000,500000,6000000,1100000,2600000,2600000,500000,500000,150000,600000,3000000,620000,2000000,550000,0,700000,700000,800000,500000,1400000,800000,500000,600000,1600000,600000,1800000,2000000,800000,1486000,2800000,1050000,1200000,700000,500000,908000,15000000,700000,1000000,0,3000000,0,1300000,750000,2000000,250000,990000,2000000,4000000,300000,160000,80000,700000,1000000,1000000,600000,1000000,1500000,1300000,1400000,500000,1200000,450000,400000,1000000,4000000,2000000,2400000,10800000,1000000,1000000,1000000,1600000,550000,2600000,0,0,2000000,2000000,2000000,2800000,4160000,350000,600000,0,1000000,1900000,2100000,3700000,3700000,1000000,2100000,1300000,200000,200000,1000000,340000,180000,4400000,700000,120000,2000000,700000,1400000,500000,1400000,2000000,150000,1700000,300000,400000,800000,150000,3200000,2300000,720000,600000,700000,810000,3000000,600000,1200000,1000000,900000,440000,1500000,1000000,1500000,850000,1200000,900000,2000000,200000,900000,900000,0,0,50000,0,0,1000000,0,0,0,300000,50000,0,1700000,1200000,1200000,160000,80000,200000,1200000,400000,50000,800000,1200000,100000,400000,1500000,1500000,10000000,2000000,2000000,3500000,1600000,600000,2000000,2600000,3000000,1800000,1200000,950000,800000,800000,1130000,2000000,3000000,900000,4700000,1500000,2000000,800000,800000,125000,2100000,300000,9000000,0,1500000,2000000,5000000,2700000,2000000,5000000,500000,1750000,0,500000,0,1000000,900000,900000,1500000,900000,100000,600000,400000,600000,1000000,3300000,300000,1500000,5000000,1200000,1500000,2500000,100000,1000000,2000000,100000,200000,100000,100000,100000,900000,800000,500000,1200000,200000,200000,150000,1900000,300000,300000,500000,600000,908526,500000,4000000,300000,1400000,500000,1000000,1800000,360000,360000,200000,300000,1200000,1500000,180000,500000,3000000,150000,300000,800000,600000,1000000,600000,800000,1400000,1100000,200000,300000,50000,300000,300000,100000,1400000,1200000,1500000,3500000,500000,1000000,1600000,1000000,200000,5000000,900000,1000000,1800000,2200000,3000000,300000,2300000,0,400000,500000,1000000,600000,1000000,2500000,800000,1500000,1000000,1300000,280000,400000,900000,800000,1200000,800000,450000,500000,600000,1600000,650000,1000000,1700000,1000000,1100000,0,0,900000,950000,1000000,800000,6000000,250000,3400000,2300000,700000,3000000,1200000,2000000,1400000,3000000,1300000,1400000,650000,900000,800000,600000,0,1000000,1368000,5000000,1250000,1300000,1200000,1450000,15000000,600000,8000000,2000000,150000,800000,1400000,3880000,1000000,0,50000,1600000,4170000,800000,1200000,600000,500000,500000,2700000,4100000,908000,1000000,908000,890000,1400000,100000,80000,80000,420000,560000,240000,1000000,800000,820000,1800000,500000,0,820000,360000,1400000,500000,1000000,1200000,3500000,3000000,200000,1300000,5000000,600000,0,2000000,600000,1800000,800000,600000,2500000,2500000,3500000,4700000,5500000,1580000,450000,900000,1600000,5000000,240000,1200000,1200000,0,1200000,0,700000,1000000,2000000,2000000,0,800000,2000000,400000,250000,800000,200000,500000,800000,2300000,1500000,400000,1800000,2000000,2500000,3500000,1500000,500000,3100000,1500000,0,1300000,2000000,800000,2500000,2500000,500000,600000,0,400000,1100000,0,1200000,1000000,1000000,1156000,1240000,400000,250000,2760000,1500000,980000,525000,210000,1100000,1700000,1000000,1300000,375000,1850000,1050000,1200000,1100000,0,2200000,320000,4800000,240000,200000,240000,600000,100000,1800000,200000,240000,240000,720000,760000,528000,800000,2400000,2200000,1300000,800000,900000,10000000,3000000,2200000,700000,2200000,40000,1700000,4000000,3000000,2800000,2700000,3600000,2000000,1200000,1000000,500000,600000,960000,1000000,6000000,3800000,1500000,100000,10000000,3500000,1800000,1330000,5970000,1536000,4500000,0,600000,600000,300000,3000000,2000000,1000000,600000,300000,450000,1000000,0,800000,500000,500000,600000,500000,100000,0,800000,1000000,1000000,2500000,3000000,3000000,3000000,2300000,500000,3000000,3000000,710000,800000,1000000,1000000,500000,1000000,6000000,350000,1600000,900000,750000,1500000,600000,2000000,1300000,1500000,1000000,200000,900000,600000,600000,360000,450000,1000000,500000,720000,600000,1500000,800000,700000,350000,800000,720000,800000,1000000,2000000,900000,1800000,1800000,150000,4200000,0,1200000,1000000,0,8000,4000000,0,0,4500000,4500000,0,1400000,2650000,800000,500000,600000,840000,1200000,1000000,2500000,300000,2500000,1800000,400000,80000,1000000,720000,800000,300000,1200000,1200000,400000,900000,2000000,1200000,350000,250000,900000,300000,900000,950000,908000,1200000,1800000,0,908526,600000,300000,800000,1800000,800000,800000,500000,1400000,1000000,0,240000,900000,240000,3500000,600000,800000,800000,908500,400000,1900000,600000,500000,500000,400000,700000,500000,1600000,1000000,1200000,600000,400000,240000,240000,908526,500000,1300000,600000,1300000,1000000,680000,690000,700000,456000,1800000,1700000,1800000,800000,1500000,800000,350000,600000,700000,1000000,1200000,1000000,1000000,1000000,980000,0,30000,1300000,800000,150000,1000000,900000,900000,1000000,1400000,500000,64000000,1800000,1000000,13000000,6000000,300000,1300000,360000,360000,600000,360000,800000,800000,150000,0,400000,2000000,1000000,950000,1200000,525000,3000000,1400000,1000000,1000000,600000,1000000,1500000,6700000,1000000,950000,500000,1800000,0,3000000,400000,500000,2200000,7300000,9000000,2000000,1250000,1000000,300000,600000,100000,7700000,5000000,900000,1000000,900000,300000,400000,400000,1200000,1800000,1800000,2700000,500000,140000,800000,400000,1350000,3850000,960000,0,50000,0,1600000,600000,4200000,1400000,2000000,480000,0,120000,1000000,2600000,1600000,4500000,4000000,2800000,700000,200000,0,2000000,1500000,800000,1500000,4000000,1300000,2000000,1400000,670000,400000,600000,600000,900000,1000000,800000,200000,600000,1176000,700000,1700000,6600000,3000000,900000,700000,800000,1000000,1000000,300000,200000,2500000,500000,800000,900000,500000,1000000,2000000,800000,1014000,3000000,800000,100000,850000,100000,1000000,680000,1600000,500000,800000,1200000,700000,300000,900000,0,1000000,300000,3000000,2700000,3500000,4800000,12000000,6000000,3100000,1200000,1200000,15000000,5500000,2600000,1200000,3000000,1200000,480000,140000,3700000,1200000,287000,0,2500000,800000,0,2000000,1600000,200000,500000,400000,1000000,400000,600000,350000,600000,0,1000000,250000,1000000,0,300000,1000000,0,2300000,3000000,1800000,1400000,650000,450000,750000,750000,550000,1000000,1500000,1300000,1200000,300000,650000,1600000,1600000,1500000,700000,6500000,2500000,650000,250000,1200000,1300000,900000,2700000,4800000,2500000,900000,3500000,3100000,600000,2500000,800000,430000,900000,1200000,2500000,600000,220000,3500000,2500000,5000000,700000,1000000,700000,1000000,1000000,3800000,1000000,400000,300000,500000,800000,800000,720000,1000000,550000,500000,1200000,2000000,2000000,4200000,700000,400000,1250000,1800000,1200000,1600000,4000000,3000000,2800000,1117000,2000000,3000000,2500000,2500000,3000000,50000000,1000000,800000,1550000,2800000,400000,1500000,800000,2500000,1000000,800000,0,0,2500000,2100000,0,0,10000,0,0,1000000,500000,5300000,1400000,1000000,250000,250000,800000,1000000,1436000,600000,700000,450000,800000,400000,450000,800000,180000,1100000,700000,200000,300000,450000,500000,2500000,3745800,3000000,908000,4140000,2000000,1800000,500000,1000000,350000,600000,1900000,960000,600000,1800000,0,1500000,4000000,4800000,5000000,950000,900000,7000000,1000000,2100000,3000000,4500000,2000000,3800000,3000000,0,2800000,1500000,120000,280000,1500000,2800000,3000000,2800000,600000,3240000,1600000,1000000,1500000,400000,500000,0,2500000,600000,500000,500000,1390000,800000,2000000,200000,700000,50000,600000,1200000,2500000,480000,0,3000000,3500000,1500000,500000,2300000,900000,1300000,900000,500000,600000,400000,420000,3800000,2500000,500000,3800000,900000,200000,1200000,1200000,2000000,1800000,600000,1000000,1800000,100000,2400000,1500000,1000000,3500000,3100000,1100000,200000,1100000,1100000,400000,0,500000,600000,200000,500000,600000,2500000,400000,100000,600000,1000000,400000,2000000,1200000,1500000,1100000,800000,2500000,3500000,1000000,1000000,650000,600000,2300000,2200000,500000,1700000,500000,150000,800000,3800000,908000,908526,800000,2000000,400000,2400000,150000,150000,1210000,800000,900000,2500000,8000000,1600000,1500000,1000000,1200000,1000000,250000,1200000,1300000,1200000,1600000,4000000,300000,1800000,500000,1500000,900000,100000,5000000,2700000,1050000,400000,700000,1600000,1500000],"type":"histogram","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear el boxplot interactivo</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>boxplot_plot <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">data =</span> filtrado_si_contrato_Gan_Neta, <span class="at">y =</span> <span class="sc">~</span>Gan_Neta, <span class="at">type =</span> <span class="st">"box"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Boxplot de Gan_Neta"</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Gan_Neta"</span>))</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar el boxplot</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>boxplot_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-3acaf098e09ce83d1363" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-3acaf098e09ce83d1363">{"x":{"visdat":{"12b9b261d0a2d":["function () ","plotlyVisDat"]},"cur_data":"12b9b261d0a2d","attrs":{"12b9b261d0a2d":{"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Boxplot de Gan_Neta","yaxis":{"domain":[0,1],"automargin":true,"title":"Gan_Neta"},"xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","y":[500000,3000000,400000,400000,1200000,420000,1300000,500000,400000,400000,80000,960000,560000,740000,1500000,1200000,500000,4000000,0,3500000,1800000,900000,2500000,7000000,4300000,1300000,800000,1000000,600000,1400000,600000,1200000,800000,250000,800000,900000,600000,1000000,1000000,900000,200000,1000000,800000,600000,500000,800000,700000,3500000,250000,980000,908000,950000,400000,500000,2500000,2800000,1000000,1000000,1000000,1000000,1000000,4500000,1900000,1300000,1200000,800000,6000000,950000,750000,700000,1240000,200000,2000000,1500000,600000,1000000,500000,840000,300000,700000,1700000,580000,900000,7000000,300000,500000,700000,300000,1000000,566000,250000,750000,5000000,2400000,2800000,6200000,50000,3500000,600000,1500000,1200000,1000000,2800000,2300000,1400000,1400000,0,2000000,450000,450000,1000000,11000000,500000,400000,1200000,2300000,1000000,1800000,500000,400000,840000,0,0,0,0,1875000,4000000,2500000,2800000,500000,500000,1000000,3900000,0,900000,200000,3500000,2000000,1500000,600000,2600000,1900000,3600000,800000,2500000,600000,650000,480000,1600000,200000,360000,0,500000,800000,500000,200000,900000,4500000,4500000,2500000,800000,3000000,300000,300000,420000,200000,500000,900000,500000,800000,600000,600000,4000000,3500000,500000,1000000,900000,720000,800000,800000,2000000,900000,3000000,14000000,16000000,1500000,3000000,600000,900000,1450000,1000000,700000,900000,7000000,3000000,900000,2800000,1400000,300000,2000000,1700000,1800000,908000,1800000,600000,1400000,1800000,1250000,1000000,2000000,8000000,400000,500000,400000,400000,1000000,250000,700000,400000,1000000,50000,30000,2079000,300000,3800000,500000,1000000,300000,400000,350000,5400000,300000,1200000,600000,1500000,300000,1000000,700000,1000000,750000,1000000,1300000,700000,1200000,3600000,2000000,2800000,100000,1700000,1000000,5600000,920000,1500000,5000000,1200000,1000000,1100000,908526,450000,1500000,2100000,1300000,2000000,1000000,0,1800000,1500000,1500000,3400000,1200000,400000,0,3800000,200000,1000000,1000000,300000,400000,900000,3400000,1800000,5000000,1200000,400000,1300000,800000,1000000,200000,600000,1500000,1500000,1000000,800000,700000,800000,450000,1200000,3000000,1000000,900000,1200000,800000,800000,700000,1300000,900000,1300000,1000000,500000,2800000,1200000,1500000,3000000,2500000,2800000,0,1000000,1300000,750000,900000,1000000,4000000,600000,800000,800000,420000,700000,3000000,280000,260000,840000,900000,2500000,480000,800000,800000,200000,1000000,1000000,1600000,1200000,900000,350000,1000000,800000,1200000,750000,908526,3000000,300000,908526,0,900000,908600,1300000,1500000,480000,400000,1000000,900000,1200000,908000,1400000,900000,400000,700000,2000000,1500000,2200000,950000,400000,320000,150000,2500000,180000,600000,900000,3500000,500000,2500000,1300000,2300000,3500000,3270000,3270000,0,500000,500000,800000,300000,1200000,1450000,400000,0,500000,2500000,1500000,2200000,1250000,600000,1280000,900000,600000,1000000,1500000,1200000,964000,2000000,1000000,100000,500000,300000,4000000,1000000,800000,940000,600000,2900000,4000000,6000000,950000,1800000,2300000,1300000,900000,100000,400000,0,2000000,130000,900000,1000000,3000000,850000,900000,500000,800000,1700000,800000,500000,400000,1200000,400000,300000,400000,500000,600000,300000,500000,300000,800000,1200000,1000000,1800000,2000000,1100000,1700000,1000000,1000000,4700000,2000000,480000,3000000,4000000,3200000,3000000,908526,990000,1900000,2100000,3000000,3300000,0,4500000,600000,0,350000,450000,400000,3000000,500000,980000,2900000,0,15000000,1600000,350000,900000,384000,1200000,200000,500000,480000,500000,650000,800000,1300000,800000,820000,820000,720000,1250000,1100000,700000,250000,2500000,1200000,400000,5000000,1200000,4000000,400000,2400000,240000,1200000,0,3700000,4500000,1000000,1000000,2400000,900000,1300000,400000,500000,400000,150000,500000,800000,300000,500000,800000,1000000,300000,800000,2500000,2000000,2000000,1000000,800000,600000,400000,600000,500000,2000000,2500000,3500000,1040000,908000,3000000,3500000,700000,800000,0,350000,0,50000,80000,54000,200000,300000,300000,800000,2500000,400000,400000,900000,1200000,3000000,1600000,2000000,500000,6000000,1100000,2600000,2600000,500000,500000,150000,600000,3000000,620000,2000000,550000,0,700000,700000,800000,500000,1400000,800000,500000,600000,1600000,600000,1800000,2000000,800000,1486000,2800000,1050000,1200000,700000,500000,908000,15000000,700000,1000000,0,3000000,0,1300000,750000,2000000,250000,990000,2000000,4000000,300000,160000,80000,700000,1000000,1000000,600000,1000000,1500000,1300000,1400000,500000,1200000,450000,400000,1000000,4000000,2000000,2400000,10800000,1000000,1000000,1000000,1600000,550000,2600000,0,0,2000000,2000000,2000000,2800000,4160000,350000,600000,0,1000000,1900000,2100000,3700000,3700000,1000000,2100000,1300000,200000,200000,1000000,340000,180000,4400000,700000,120000,2000000,700000,1400000,500000,1400000,2000000,150000,1700000,300000,400000,800000,150000,3200000,2300000,720000,600000,700000,810000,3000000,600000,1200000,1000000,900000,440000,1500000,1000000,1500000,850000,1200000,900000,2000000,200000,900000,900000,0,0,50000,0,0,1000000,0,0,0,300000,50000,0,1700000,1200000,1200000,160000,80000,200000,1200000,400000,50000,800000,1200000,100000,400000,1500000,1500000,10000000,2000000,2000000,3500000,1600000,600000,2000000,2600000,3000000,1800000,1200000,950000,800000,800000,1130000,2000000,3000000,900000,4700000,1500000,2000000,800000,800000,125000,2100000,300000,9000000,0,1500000,2000000,5000000,2700000,2000000,5000000,500000,1750000,0,500000,0,1000000,900000,900000,1500000,900000,100000,600000,400000,600000,1000000,3300000,300000,1500000,5000000,1200000,1500000,2500000,100000,1000000,2000000,100000,200000,100000,100000,100000,900000,800000,500000,1200000,200000,200000,150000,1900000,300000,300000,500000,600000,908526,500000,4000000,300000,1400000,500000,1000000,1800000,360000,360000,200000,300000,1200000,1500000,180000,500000,3000000,150000,300000,800000,600000,1000000,600000,800000,1400000,1100000,200000,300000,50000,300000,300000,100000,1400000,1200000,1500000,3500000,500000,1000000,1600000,1000000,200000,5000000,900000,1000000,1800000,2200000,3000000,300000,2300000,0,400000,500000,1000000,600000,1000000,2500000,800000,1500000,1000000,1300000,280000,400000,900000,800000,1200000,800000,450000,500000,600000,1600000,650000,1000000,1700000,1000000,1100000,0,0,900000,950000,1000000,800000,6000000,250000,3400000,2300000,700000,3000000,1200000,2000000,1400000,3000000,1300000,1400000,650000,900000,800000,600000,0,1000000,1368000,5000000,1250000,1300000,1200000,1450000,15000000,600000,8000000,2000000,150000,800000,1400000,3880000,1000000,0,50000,1600000,4170000,800000,1200000,600000,500000,500000,2700000,4100000,908000,1000000,908000,890000,1400000,100000,80000,80000,420000,560000,240000,1000000,800000,820000,1800000,500000,0,820000,360000,1400000,500000,1000000,1200000,3500000,3000000,200000,1300000,5000000,600000,0,2000000,600000,1800000,800000,600000,2500000,2500000,3500000,4700000,5500000,1580000,450000,900000,1600000,5000000,240000,1200000,1200000,0,1200000,0,700000,1000000,2000000,2000000,0,800000,2000000,400000,250000,800000,200000,500000,800000,2300000,1500000,400000,1800000,2000000,2500000,3500000,1500000,500000,3100000,1500000,0,1300000,2000000,800000,2500000,2500000,500000,600000,0,400000,1100000,0,1200000,1000000,1000000,1156000,1240000,400000,250000,2760000,1500000,980000,525000,210000,1100000,1700000,1000000,1300000,375000,1850000,1050000,1200000,1100000,0,2200000,320000,4800000,240000,200000,240000,600000,100000,1800000,200000,240000,240000,720000,760000,528000,800000,2400000,2200000,1300000,800000,900000,10000000,3000000,2200000,700000,2200000,40000,1700000,4000000,3000000,2800000,2700000,3600000,2000000,1200000,1000000,500000,600000,960000,1000000,6000000,3800000,1500000,100000,10000000,3500000,1800000,1330000,5970000,1536000,4500000,0,600000,600000,300000,3000000,2000000,1000000,600000,300000,450000,1000000,0,800000,500000,500000,600000,500000,100000,0,800000,1000000,1000000,2500000,3000000,3000000,3000000,2300000,500000,3000000,3000000,710000,800000,1000000,1000000,500000,1000000,6000000,350000,1600000,900000,750000,1500000,600000,2000000,1300000,1500000,1000000,200000,900000,600000,600000,360000,450000,1000000,500000,720000,600000,1500000,800000,700000,350000,800000,720000,800000,1000000,2000000,900000,1800000,1800000,150000,4200000,0,1200000,1000000,0,8000,4000000,0,0,4500000,4500000,0,1400000,2650000,800000,500000,600000,840000,1200000,1000000,2500000,300000,2500000,1800000,400000,80000,1000000,720000,800000,300000,1200000,1200000,400000,900000,2000000,1200000,350000,250000,900000,300000,900000,950000,908000,1200000,1800000,0,908526,600000,300000,800000,1800000,800000,800000,500000,1400000,1000000,0,240000,900000,240000,3500000,600000,800000,800000,908500,400000,1900000,600000,500000,500000,400000,700000,500000,1600000,1000000,1200000,600000,400000,240000,240000,908526,500000,1300000,600000,1300000,1000000,680000,690000,700000,456000,1800000,1700000,1800000,800000,1500000,800000,350000,600000,700000,1000000,1200000,1000000,1000000,1000000,980000,0,30000,1300000,800000,150000,1000000,900000,900000,1000000,1400000,500000,64000000,1800000,1000000,13000000,6000000,300000,1300000,360000,360000,600000,360000,800000,800000,150000,0,400000,2000000,1000000,950000,1200000,525000,3000000,1400000,1000000,1000000,600000,1000000,1500000,6700000,1000000,950000,500000,1800000,0,3000000,400000,500000,2200000,7300000,9000000,2000000,1250000,1000000,300000,600000,100000,7700000,5000000,900000,1000000,900000,300000,400000,400000,1200000,1800000,1800000,2700000,500000,140000,800000,400000,1350000,3850000,960000,0,50000,0,1600000,600000,4200000,1400000,2000000,480000,0,120000,1000000,2600000,1600000,4500000,4000000,2800000,700000,200000,0,2000000,1500000,800000,1500000,4000000,1300000,2000000,1400000,670000,400000,600000,600000,900000,1000000,800000,200000,600000,1176000,700000,1700000,6600000,3000000,900000,700000,800000,1000000,1000000,300000,200000,2500000,500000,800000,900000,500000,1000000,2000000,800000,1014000,3000000,800000,100000,850000,100000,1000000,680000,1600000,500000,800000,1200000,700000,300000,900000,0,1000000,300000,3000000,2700000,3500000,4800000,12000000,6000000,3100000,1200000,1200000,15000000,5500000,2600000,1200000,3000000,1200000,480000,140000,3700000,1200000,287000,0,2500000,800000,0,2000000,1600000,200000,500000,400000,1000000,400000,600000,350000,600000,0,1000000,250000,1000000,0,300000,1000000,0,2300000,3000000,1800000,1400000,650000,450000,750000,750000,550000,1000000,1500000,1300000,1200000,300000,650000,1600000,1600000,1500000,700000,6500000,2500000,650000,250000,1200000,1300000,900000,2700000,4800000,2500000,900000,3500000,3100000,600000,2500000,800000,430000,900000,1200000,2500000,600000,220000,3500000,2500000,5000000,700000,1000000,700000,1000000,1000000,3800000,1000000,400000,300000,500000,800000,800000,720000,1000000,550000,500000,1200000,2000000,2000000,4200000,700000,400000,1250000,1800000,1200000,1600000,4000000,3000000,2800000,1117000,2000000,3000000,2500000,2500000,3000000,50000000,1000000,800000,1550000,2800000,400000,1500000,800000,2500000,1000000,800000,0,0,2500000,2100000,0,0,10000,0,0,1000000,500000,5300000,1400000,1000000,250000,250000,800000,1000000,1436000,600000,700000,450000,800000,400000,450000,800000,180000,1100000,700000,200000,300000,450000,500000,2500000,3745800,3000000,908000,4140000,2000000,1800000,500000,1000000,350000,600000,1900000,960000,600000,1800000,0,1500000,4000000,4800000,5000000,950000,900000,7000000,1000000,2100000,3000000,4500000,2000000,3800000,3000000,0,2800000,1500000,120000,280000,1500000,2800000,3000000,2800000,600000,3240000,1600000,1000000,1500000,400000,500000,0,2500000,600000,500000,500000,1390000,800000,2000000,200000,700000,50000,600000,1200000,2500000,480000,0,3000000,3500000,1500000,500000,2300000,900000,1300000,900000,500000,600000,400000,420000,3800000,2500000,500000,3800000,900000,200000,1200000,1200000,2000000,1800000,600000,1000000,1800000,100000,2400000,1500000,1000000,3500000,3100000,1100000,200000,1100000,1100000,400000,0,500000,600000,200000,500000,600000,2500000,400000,100000,600000,1000000,400000,2000000,1200000,1500000,1100000,800000,2500000,3500000,1000000,1000000,650000,600000,2300000,2200000,500000,1700000,500000,150000,800000,3800000,908000,908526,800000,2000000,400000,2400000,150000,150000,1210000,800000,900000,2500000,8000000,1600000,1500000,1000000,1200000,1000000,250000,1200000,1300000,1200000,1600000,4000000,300000,1800000,500000,1500000,900000,100000,5000000,2700000,1050000,400000,700000,1600000,1500000],"type":"box","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Boxplot Creado directamente</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>Base_EncHog2022<span class="sc">%&gt;%</span><span class="fu">filter</span>(Contrato_lab<span class="sc">==</span><span class="st">"1"</span>)<span class="sc">%&gt;%</span><span class="fu">select</span>(Gan_Neta)<span class="sc">%&gt;%</span><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Gan_Neta)) <span class="sc">+</span> </span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour=</span><span class="st">"blue"</span>, <span class="at">outlier.shape=</span><span class="dv">16</span>,</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">outlier.size=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/Comparacion-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Ejercicio:</strong> <em>Hacer lo mismo con los que no tiene contrato.</em></p>
<section id="explorando-relaciones-entre-variable-numéricas" class="level2">
<h2 class="anchored" data-anchor-id="explorando-relaciones-entre-variable-numéricas">Explorando relaciones entre variable numéricas</h2>
<p>En muchas ocasiones es importante saber si dos variable numéricas tiene algún tipo de relación. La forma gráfica inicla para explorar la relación entre variables es través de un gráfico de dispersión.</p>
<p>Veamos un ejemplo, supongamos que tenemos las variables relacionadas con las ceibas, peso y altura. El gráfico se construye de tal forma que los valores emparejados de las variables <span class="math inline">\((x_i ,y_i)\)</span> se dibujan en un plano cartesiano, usualmente se supone que la variable independiente es la variable(<span class="math inline">\(X\)</span>), mientras que la variable dependiente es la variable (<span class="math inline">\(Y\)</span>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ lubridate 1.9.2     ✔ tibble    3.2.1
✔ purrr     1.0.2     ✔ tidyr     1.3.0
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ tidyr::expand() masks Matrix::expand()
✖ dplyr::filter() masks plotly::filter(), stats::filter()
✖ dplyr::lag()    masks stats::lag()
✖ tidyr::pack()   masks Matrix::pack()
✖ dplyr::select() masks plotly::select(), MASS::select()
✖ tidyr::unpack() masks Matrix::unpack()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>Ceibas<span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">"Pesos_Alturas_Diametros.xlsx"</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Ceibas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [30 × 4] (S3: tbl_df/tbl/data.frame)
 $ Pesos    : num [1:30] 303 301 292 300 300 ...
 $ Alturas  : num [1:30] 60.9 61.1 54.3 58.5 58.4 ...
 $ Diametros: num [1:30] 3.81 2.35 4.91 2.43 1.1 ...
 $ Num_Nidos: num [1:30] 9 6 7 7 6 9 7 3 4 6 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(Ceibas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Pesos"     "Alturas"   "Diametros" "Num_Nidos"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Diagrama de dispersión</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>Ceibas<span class="sc">%&gt;%</span><span class="fu">select</span>(Pesos,Alturas)<span class="sc">%&gt;%</span><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Alturas, <span class="at">y =</span> Pesos)) <span class="sc">+</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span>  <span class="co"># Crear puntos para el diagrama de dispersión</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Diagrama de Dispersión: Pesos vs. Alturas"</span>,</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Pesos"</span>,</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Alturas"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/peso%20y%20altura%20ceibas-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Asociado con el diagrama de existe una medida de asociación <strong>Lineal</strong> entre las variable aletorias conocido como coeficiente de correlación de Pearson:</p>
<p><span class="math display">\[r = \frac{\text{cov}(X, Y)}{s_X \times s_Y}\]</span> donde <span class="math display">\[\text{cov}(X, Y) = \frac{\sum_{i=1}^n (x_i - \bar{X})(y_i - \bar{Y})}{n-1}\]</span> miesntras que:</p>
<p><span class="math display">\[s_X = \sqrt{\frac{\sum_{i=1}^n (x_i - \bar{X})^2}{n-1}}\]</span> <span class="math display">\[s_Y= \sqrt{\frac{\sum_{i=1}^n (y_i - \bar{Y})^2}{n-1}}\]</span> Si el coeficiente de correlación <span class="math inline">\(r\approx 0\)</span> diremos que no hay asociación estadística lineal.</p>
<p>Si el coeficiente de correlación <span class="math inline">\(r\approx 1\)</span> diremos que hay asociación estadística lineal directa.</p>
<p>Si el coeficiente de correlación <span class="math inline">\(r\approx 1\)</span> diremos que hay asociación estadística lineal inversa.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(Ceibas<span class="sc">%&gt;%</span><span class="fu">select</span>(Pesos,Alturas))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>            Pesos   Alturas
Pesos   1.0000000 0.8370601
Alturas 0.8370601 1.0000000</code></pre>
</div>
</div>
<p><strong>Qué otras medidas de asociación hay? Tarea</strong></p>
<p><strong>Ejercicio:</strong> <em>Use la base EncHog2022.xlsx y relaice un gráfico de dispersión con INGLABO y Horas_Trab_Sem , junto con Gan_Neta para explorara las relaciones, sin filtrar y filtrando por la variable Contrato_lab.</em></p>
<p><strong>Ejercicios de simulación</strong></p>
<p>Vamos a experimentar con datos simulados(artificiales) para explorara relaciones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="do">####Relación Lineal </span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>long<span class="ot">=</span><span class="dv">100</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>x_simul<span class="ot">&lt;-</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>y_simul<span class="ot">&lt;-</span>a<span class="sc">+</span>b<span class="sc">*</span>x_simul<span class="sc">+</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x_simul,y_simul,<span class="at">pch=</span><span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/simulación%201-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(x_simul,y_simul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8800447</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="do">###Relación Cuadrática</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>long<span class="ot">=</span><span class="dv">100</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>x_simul<span class="ot">&lt;-</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>y_simul<span class="ot">&lt;-</span>a<span class="sc">+</span>b<span class="sc">*</span>x_simul<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x_simul,y_simul,<span class="at">pch=</span><span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/simulación%201-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(x_simul,y_simul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1120366</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="do">#####Relación Polinomial</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>c<span class="ot">=</span><span class="dv">5</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>d<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>long<span class="ot">=</span><span class="dv">100</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>x_simul<span class="ot">&lt;-</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>y_simul<span class="ot">&lt;-</span>a<span class="sc">+</span>b<span class="sc">*</span>x_simul<span class="sc">+</span>c<span class="sc">*</span>x_simul<span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>d<span class="sc">*</span>x_simul<span class="sc">^</span><span class="dv">3</span><span class="sc">+</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x_simul,y_simul,<span class="at">pch=</span><span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/simulación%201-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(x_simul,y_simul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6674407</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="do">#####Relación exponencial</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>long<span class="ot">=</span><span class="dv">100</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="dv">5</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>x_simul<span class="ot">&lt;-</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>y_simul<span class="ot">&lt;-</span>a<span class="sc">+</span><span class="fu">exp</span>(<span class="sc">-</span>b<span class="sc">*</span>x_simul)<span class="sc">+</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x_simul,y_simul,<span class="at">pch=</span><span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/simulación%201-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(x_simul,y_simul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.3841849</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="do">#####Relación sinusoidal</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>long<span class="ot">=</span><span class="dv">100</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>b<span class="ot">=</span><span class="dv">2</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>x_simul<span class="ot">&lt;-</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>y_simul<span class="ot">&lt;-</span>a<span class="sc">+</span><span class="fu">sin</span>(<span class="dv">2</span><span class="sc">*</span>pi<span class="sc">*</span>x_simul<span class="sc">/</span>b)<span class="sc">+</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x_simul,y_simul,<span class="at">pch=</span><span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/simulación%201-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(x_simul,y_simul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.01074067</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="do">### No relación(Independencia)</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>long<span class="ot">=</span><span class="dv">100</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>a<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>x_simul<span class="ot">&lt;-</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>y_simul<span class="ot">&lt;-</span>a <span class="sc">+</span><span class="fu">rnorm</span>(long,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x_simul,y_simul,<span class="at">pch=</span><span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Descriptiva_files/figure-html/simulación%201-6.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(x_simul,y_simul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.2108322</code></pre>
</div>
</div>
<p><strong>Tablas Cruzadas de Variables Categóricas</strong></p>
<p>Se puede usar Tablas cruzadas para explorar relaciones entre variable categóricas, pero es mas complejo.</p>
<p>Una medida de la asociación entre variable categóricas es la V de Cramer, la cual mide que tan fuerte es la asociación. Más específicamente es el efecto del tamaño(<strong>ES</strong>) de la prueba de independencia chi-cuadrado(<strong>La cual será vista mas adelante.</strong>).</p>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Effect size (ES)</strong></th>
<th style="text-align: left;"><strong>Interpretation</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ES ≤ 0.2</td>
<td style="text-align: left;">The result is weak. Although the result is statistically significant, the fields are only weakly associated.</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.2 &lt; ES ≤ 0.6</td>
<td style="text-align: left;">The result is moderate. The fields are moderately associated.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ES &gt; 0.6</td>
<td style="text-align: left;">The result is strong. The fields are strongly associated.</td>
</tr>
</tbody>
</table>
<p>Ejemplo, Usemos la base Base_Ejemplo.xslx y veamos la tabla cruzada para las dos variable categóricas y su respectivo efecto del tamaño.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">'rcompanion'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'rcompanion'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:sjstats':

    phi</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>Base_ejemplo<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"BaseEjemplo.xlsx"</span>)</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Base_ejemplo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [33 × 6] (S3: tbl_df/tbl/data.frame)
 $ Genero         : chr [1:33] "m" "m" "f" "m" ...
 $ Edad           : num [1:33] 20 21 19 20 17 20 19 21 19 19 ...
 $ tiempohorasDedi: num [1:33] 14 20 36 10 12 14 33 14 35 32 ...
 $ gastosemanal   : num [1:33] 120000 50000 50000 55000 50000 125000 60000 520000 90000 60000 ...
 $ marcacel       : chr [1:33] "lg" "xiaomi" "motorola" "nokia" ...
 $ creditosins    : num [1:33] 18 16 20 20 16 18 15 10 19 20 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>Base_ejemplo<span class="sc">%&gt;%</span><span class="fu">select</span>(Genero,marcacel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 33 × 2
   Genero marcacel
   &lt;chr&gt;  &lt;chr&gt;   
 1 m      lg      
 2 m      xiaomi  
 3 f      motorola
 4 m      nokia   
 5 m      motorola
 6 m      sony    
 7 f      motorola
 8 m      motorola
 9 m      motorola
10 m      apple   
# ℹ 23 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(Base_ejemplo<span class="sc">%&gt;%</span><span class="fu">select</span>(Genero,marcacel))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      marcacel
Genero alcatel apple huawei huawey lg motorola nokia oneplus samsung sony
     f       0     0      0      0  0        4     0       0       0    0
     m       1     2      3      1  2        7     1       1       2    1
      marcacel
Genero tplink xiaomi
     f      1      0
     m      1      6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cramerV</span>(Base_ejemplo<span class="sc">$</span>Genero, Base_ejemplo<span class="sc">$</span>marcacel, <span class="at">bias.correct =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cramer V 
  0.5312 </code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>